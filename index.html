<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="My awesome description">
<meta name="author" content="Diego Guevera y Kevin Mendez">
<meta name="generator" content="Hugo 0.27.1" />
<title>Efecto borroso usando POSIX, OpenMP y CUDA</title>
<!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
<link href="https://kmendezp96.github.io/css/bootstrap.min.css" rel="stylesheet">
<!-- Custom CSS -->
<link href="css/freelancer.css" rel="stylesheet">

<!-- Custom Fonts -->
<link href="https://kmendezp96.github.io/css/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

    </head>
    <body id="page-top" class="index">

        <!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#page-top">Efecto borroso usando POSIX, OpenMP y CUDA</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                <li class="page-scroll">
                    <a href="#introduccion">Introducción</a>
                </li>
                <li class="page-scroll">
                    <a href="#posix">Hilos POSIX</a>
                </li>
                <li class="page-scroll">
                    <a href="#openmp">OpenMP</a>
                </li>
                <li class="page-scroll">
                    <a href="#cuda">CUDA</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>



<br>
<br>
<br>
<br>
<br>
<br>

<section id="introduccion">
<div class="container">
<div class="row">
    <div class="col-lg-12 text-center">
        <h2>Introducción</h2>
        <hr class="star-primary">
    </div>
</div>
<div class="row">
  <div>
      <p>El fin de esta página es hacer una breve descripción de los elementos que se usaron para aplicar el efecto borroso
      en una imagen, el porqué se utilizaron y como utilizarlos.</p>
      <div class="col-sm-4 portfolio-item">
          <a href="#portfolioModal1" class="portfolio-link" data-toggle="modal">
              <div class="caption">
                  <div class="caption-content">
                      <i class="fa fa-search-plus fa-3x"></i>
                  </div>
              </div>
              <img src="img/portfolio/1080.jpg" class="img-responsive">
          </a>
      </div>
      <div class="col-sm-4 portfolio-item" style="margin-right: 10cm">
          <a href="#portfolioModal2" class="portfolio-link" data-toggle="modal">
              <div class="caption">
                  <div class="caption-content">
                      <i class="fa fa-search-plus fa-3x"></i>
                  </div>
              </div>
              <img src="img/portfolio/edicion.jpg" class="img-responsive">
          </a>
      </div>
  </div>
  <br>

      <div>
        <div>
          <br>
        <p>La biblioteca OpenCV se utilizó en las 3 distintas implementaciones, la cual facilito el procesamiento de las
        imágenes, los efectos borrosos se aplicaron promediando los colores
      de los pixeles con sus vecinos en forma de cruz, en este ejemplo se toma un tamaño de efecto de 3, el pixel de la mitad
      adquiere el color promedio de color de los 3 pixeles a la derecha, izquierda, arriba y abajo:</p>
    </div>
      <div style="width:50%; height: 50%">
              <img src="img/portfolio/efecto_cruz.png" class="img-responsive">
      </div>
      <div>
        <br>
       <p>el número de pixeles que toma para el efecto es variable, con un tamaño de 30 se alcanza a apreciar
       la forma que adquiere el efecto debido a su forma de cruz:</p>
     </div>
      <div  style="width:50%; height: 50%">
              <img src="img/portfolio/efecto.png" class="img-responsive">
      </div>
    </div>
    <div>
      <br>
        <p>Se hizo uso de estas distintas herramientas con el fin de distribuir el procesamiento de la imagen
        entre múltiples hilos para así aprovechar mejor el hardware disponible, optimizar los tiempos de procesamiento, además
        de determinar en qué contextos implementar hilos POSIX, el api OpenMP o usar CUDA resulta más beneficioso, estas
        distintas implementaciones se pueden descargar desde el repositorio: </p>
        <div class="col-sm-4 portfolio-item">
                <img src="img/portfolio/posix.png" class="img-responsive">
        </div>
        <div class="col-sm-4 portfolio-item">
                <img src="img/portfolio/openmp.png" class="img-responsive">
        </div>
        <div class="col-sm-4 portfolio-item">
                <img src="img/portfolio/cuda.jpg" class="img-responsive">
        </div>

</div>
<div>
  <br>
  <br>
  <br>
  <br>
  <h2>
    Requisitos
  </h2>
  <ul>
      <li >
          Ejecutar desde un sistema operativo que siga el estándar POSIX.
      </li>
      <li>
          Descargar el repositorio:   <a href="https://github.com/diegoaguevarar/BLUR_EFFECT">https://github.com/diegoaguevarar/BLUR_EFFECT</a>
      </li>
      <li>
          Compilador g++.
      </li>
      <li>
          Librería OpenCV.
      </li>
      <li>
          Grafica NVIDIA.
      </li>
      <li>
          Tener instalado CUDA.
      </li>
  </ul>

</div>
</div>
</section>


<section  class="success" id="posix">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2>Hilos POSIX</h2>
                <hr class="star-primary">
            </div>
        </div>
        <div class="row">
          <div>
              <p>Mediante el uso de la biblioteca pthread se gestiona el manejo de múltiples hilos corriendo sobre
              un sistema operativo que siga el estándar POSIX. Esta implementación recibe como parámetro el numero de
              hilos con los que se desea correr la aplicación y el kernel del efecto. A cada hilo se le asignará una parte
              de igual tamaño de la imagen, en este caso se balancea por filas de pixeles, dividiendo el total de filas en el
              numero de hilos, en la siguiente imagen se corre el programa con 4 hilos, deteniendo el ultimo hilo, por lo que
              su parte de la imagen queda sin el efecto borroso:</p>
          </div>
          <div class="col-sm-4 portfolio-item" style="float:none">
              <a href="#portfolioModal3" class="portfolio-link" data-toggle="modal">
                  <div class="caption">
                      <div class="caption-content">
                          <i class="fa fa-search-plus fa-3x"></i>
                      </div>
                  </div>
                  <img src="img/portfolio/detenido.png" class="img-responsive">
              </a>
          </div>
          <div>
              <p>Para ejecutar el programa entrar a la carpeta “blur_posix”, editar el archivo “blur_posix.sh” de la siguiente manera:</p>
              <p>tam_kernel= #tamaño del kernel que desee.</p>
              <p>n_hilos= #numero de hilos con los que lanzara el programa.</p>
              <p>Imagen= #nombre y extensión de la imagen a la que se desea aplicar el efecto.</p>
              <p>Posteriormente guardarlo, y ejecutarlo usando el comando: sudo bash ./blur_posix.sh</p>
              <p>Ejemplo: En este ejemplo se ejecuta con un tamaño de efecto de 40, 11 hilos sobre la una imagen llamada “4k.jpg”.</p>
          </div>
          <div class="col-sm-4 portfolio-item" style="float:none">
              <a href="#portfolioModal4" class="portfolio-link" data-toggle="modal">
                  <div class="caption">
                      <div class="caption-content">
                          <i class="fa fa-search-plus fa-3x"></i>
                      </div>
                  </div>
                  <img src="img/portfolio/ejemplo_posix.png" class="img-responsive">
              </a>
          </div>


        </div>
    </div>
</section>

        <!-- article Grid Section -->
<section id="openmp">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2>OpenMP</h2>
                <hr class="star-primary">
            </div>
        </div>
        <div>
            <p>OpenMP es una API que nos facilita el desarrollo de programas que utilicen un paradigma de programación paralela.
              En este caso el balanceo se hace a nivel de pixeles que no necesariamente se encuentran en la misma fila,
              cada hilo se le asignara un número igual de pixeles, se ejecuta
              de forma parecida a la implementación que hace uso de POSIX, esta vez se editara el archivo “blur_openmp.sh” que se
              encuentra dentro de la carpeta “blur_openmp”, guardarlo y posteriormente con la terminal de comandos ejecutar el
              archivo anteriormente editad con el comando: sudo bash ./blur_openmp.sh.</p>
              <p>Ejemplo:</p>
        </div>
        <div class="col-sm-4 portfolio-item" style="float:none">
            <a href="#portfolioModal4" class="portfolio-link" data-toggle="modal">
                <div class="caption">
                    <div class="caption-content">
                        <i class="fa fa-search-plus fa-3x"></i>
                    </div>
                </div>
                <img src="img/portfolio/ejemplo_posix.png" class="img-responsive">
            </a>
        </div>


        </div>
    </div>
</section>

        <!-- About Section -->
<section class="success" id="cuda">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2>CUDA</h2>
                <hr class="star-light">
            </div>
        </div>
        <div>
            <p>(Arquitectura Unificada de Dispositivos de Cómputo) es una plataforma para desarrollo de computación
            en paralelo utilizada para poder codificar y ejecutar algoritmos que corran en GPU, haciendo transferencia
            de datos entre la memoria disponible para el CPU y la de la GPU. Esto añade una ventaja adicional en ciertos
            contextos en los que un algoritmo es altamente paralelizable, ya que el numero de unidades de procesamiento
            disponibles en una GPU es mayor de las que se podrían encontrar en los CPU’s. Para la implementación del efecto
            borroso en CUDA, se optó por recorrer la imagen fila por fila, los valores rgb de cada fila son enviados a la GPU,
            la GPU recorre pixel por pixel para asignarle su nuevo valor, el cual se obtiene a partir del promedio de los
            pixeles desde n a la izquierda hasta n a la derecha del pixel actual, siendo n el tamaño del kernel dado por
            el usuario.  Al completar esto se recorre la imagen columna por columna, enviando ahora la información de
            la columna a la GPU y asignando el valor al pixel a partir del promedio de n pixeles hacia arriba hasta n
            pixeles hacia abajo del pixel a modificar. Al completar esto se promedian los valores obtenidos al recorrer
            filas con los valores obtenidos al recorrer columnas, y con estos valores generamos la nueva imagen que
            posteriormente se guarda con el nombre edicion.jpg.</p>
            <p>Para ejecutar la implementación en cuda: entrar a la carpeta “blur_cuda”, editar el archivo “blur_cuda.sh”
              de igual forma que las dos anteriores implementaciones, solo que en este caso se incluye el número de bloques
              a lanzar en la GPU y el número de hilos representa la cantidad de hilos por bloque, luego de editarlo y guardarlo,
               correrlo en la terminal mediante el comando:  sudo bash ./blur_cuda.sh </p>
               <p>En este ejemplo se edito el archivo para que tuviera un efecto de 40 pixeles, con 11 bloques, y 11 hilos por bloque,
                 editando la imagen "1080.jpg"</p>
        </div>
        <div class="col-sm-4 portfolio-item" style="float:none">
            <a href="#portfolioModal5" class="portfolio-link" data-toggle="modal">
                <div class="caption">
                    <div class="caption-content">
                        <i class="fa fa-search-plus fa-3x"></i>
                    </div>
                </div>
                <img src="img/portfolio/ejemplo_cuda.jpg" class="img-responsive">
            </a>
        </div>



    </div>
</section>



<!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
<div class="scroll-top page-scroll visible-xs visible-sm">
    <a class="btn btn-primary" href="#page-top">
        <i class="fa fa-chevron-up"></i>
    </a>
</div>

        <!-- Portfolio Modals -->

<div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <img src="img/portfolio/1080.jpg" class="img-responsive img-centered" alt="">

                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <img src="img/portfolio/edicion.jpg" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <img src="img/portfolio/detenido.png" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <img src="img/portfolio/ejemplo_posix.png" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <img src="img/portfolio/ejemplo_cuda.jpg" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





        <!-- article Modals -->

<div class="portfolio-modal modal fade" id="articleModal1" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <h2>RayTracing-1</h2>
                        <hr class="star-primary">
                        <img src="img/article/a-001.jpg" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="portfolio-modal modal fade" id="articleModal2" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <h2>RayTracing-2</h2>
                        <hr class="star-primary">
                        <img src="img/article/a-002.jpg" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="portfolio-modal modal fade" id="articleModal3" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <div class="modal-body">
                        <h2>RayTracing-3</h2>
                        <hr class="star-primary">
                        <img src="img/article/a-003.jpg" class="img-responsive img-centered" alt="">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


        <!-- jQuery -->
<script src="https://kmendezp96.github.io/js/jquery-1.11.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="https://kmendezp96.github.io/js/bootstrap.js"></script>
<!-- Plugin JavaScript -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="https://kmendezp96.github.io/js/classie.js"></script>
<script src="https://kmendezp96.github.io/js/cbpAnimatedHeader.js"></script>
<!-- Contact Form JavaScript -->
<script src="https://kmendezp96.github.io/js/jqBootstrapValidation.js"></script>
<script src="https://kmendezp96.github.io/js/contact_me.js"></script>
<!-- Custom Theme JavaScript -->
<script src="https://kmendezp96.github.io/js/freelancer.js"></script>
<!-- Custom JavaScript files -->



    </body>
</html>
